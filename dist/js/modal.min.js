window.popup=function(t){var e,n,o,i,a,s,l,c=this;if(!t.content)return console.error("please add contents to the popup");if(e=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),s=document.createElement("span"),s.innerHTML="&#10006;",a.innerHTML=t.content,e.classList.add("gpopup-backdrop"),o.classList.add("gpopup"),n.classList.add("gpopup-wrapper"),a.classList.add("gpopup-content"),s.classList.add("close"),n.appendChild(o),e.appendChild(n),t.animation&&(c.animation=t.animation),t.className)if("string"==typeof t.className)e.classList.add(t.className);else for(var p=0;p<t.className.length;p++)e.classList.add(t.className[p]);if(t.title?((i=document.createElement("div")).classList.add("header"),i.innerHTML=t.title,i.appendChild(s),o.appendChild(i)):a.appendChild(s),o.appendChild(a),t.buttons&&"object"==typeof t.buttons){(l=document.createElement("div")).classList.add("backdrop-footer");for(var r=0;r<t.buttons.length;r++){var u=t.buttons[r],d=document.createElement("button");d.dataset.id=r,d.setAttribute("type","button"),d.classList.add("gpopup-btn"),u.className&&d.classList.add(u.className),u.focus&&d.classList.add("focus"),d.innerHTML=u.label?u.label:"Button "+r,d.addEventListener("click",function(e){t.buttons[e.target.dataset.id].callback(e,c)},!1),l.appendChild(d)}o.appendChild(l)}s.addEventListener("click",function(){c.exit()},!1),c.root=e,t.exitOnBackdropClick&&(e.addEventListener("click",function(){c.exit()},!1),o.addEventListener("click",function(t){t.stopPropagation()},!1)),this.exit=function(){c.initAnimation(),setTimeout(function(){e.parentNode==document.body&&document.body.removeChild(e),document.querySelector(".gpopup-backdrop")||(document.body.style.overflowY="auto"),t.closeCallback&&t.closeCallback()},c.animations[c.animation].time)},this.show=function(){return"function"==typeof c.initAnimation&&c.initAnimation(),document.body.style.overflowY="hidden",document.body.appendChild(e),o.clientHeight>.4*window.innerHeight&&(n.style.top="10%"),e.querySelector(".focus")&&e.querySelector(".focus").focus(),"function"==typeof c.animate&&c.animate(),c},this.initAnimation=function(){"object"!=typeof c.animations[c.animation]&&(c.animation="fade"),c.animations[c.animation].init(this.root)},this.animate=function(){c.animations[c.animation].animate(this.root)},this.animations={fade:{init:function(t){t.style.opacity="0",t.style.transition="opacity 0.3s ease-in"},animate:function(t){t.style.opacity="1"},time:300},slideDown:{init:function(t){t.style.opacity="0",t.querySelector(".gpopup").style.transform="translate(0,-100px)",t.style.transition="opacity 0.3s ease-in",t.querySelector(".gpopup").style.transition="transform 0.3s ease-out"},animate:function(t){t.style.opacity="1",t.querySelector(".gpopup").style.transform="translate(0,0)"},time:300},slideUp:{init:function(t){t.style.opacity="0",t.querySelector(".gpopup").style.transform="translate(0,100px)",t.style.transition="opacity 0.3s ease-in",t.querySelector(".gpopup").style.transition="transform 0.3s ease-out"},animate:function(t){t.style.opacity="1",t.querySelector(".gpopup").style.transform="translate(0,0)"},time:300},slideLeft:{init:function(t){t.style.opacity="0",t.querySelector(".gpopup").style.transform="translate(100px,0)",t.style.transition="opacity 0.3s ease-in",t.querySelector(".gpopup").style.transition="transform 0.3s ease-out"},animate:function(t){t.style.opacity="1",t.querySelector(".gpopup").style.transform="translate(0,0)"},time:300},slideRight:{init:function(t){t.style.opacity="0",t.querySelector(".gpopup").style.transform="translate(-100px)",t.style.transition="opacity 0.3s ease-in",t.querySelector(".gpopup").style.transition="transform 0.3s ease-out"},animate:function(t){t.style.opacity="1",t.querySelector(".gpopup").style.transform="translate(0,0)"},time:300}}},window.initGModal=function(){window.alert=function(){var t,e,n,o,i="string"==typeof arguments[1];e=i?arguments[1]:arguments[0],t=i?arguments[0]:null,n=i?arguments[2]:arguments[1],o=i?arguments[3]:arguments[2];var a=new window.popup({content:e,title:t,buttons:[{label:"Ok",callback:function(t,e){e.exit()},focus:!0}],className:"noclose",closeCallback:n,animation:o});return a.show(),a},window.confirm=function(){var t,e,n,o,i="string"==typeof arguments[1];e=i?arguments[1]:arguments[0],t=i?arguments[0]:null,n=i?arguments[2]:arguments[1],o=i?arguments[3]:arguments[2];var a=new window.popup({content:e,title:t,buttons:[{label:"No",callback:function(t,e){e.exit(),n(!1)}},{label:"Yes",callback:function(t,e){e.exit(),n(!0)},focus:!0}],className:"noclose",animation:o});return a.show(),a},window.prompt=function(t,e,n,o){var i=new window.popup({title:t,content:"<input type='text' class='gpopup-prompt-input gpopup-input focus' placeholder='Please input' value='"+e+"' >",buttons:[{label:"Ok",callback:function(t,e){var o=e.root.querySelector(".gpopup-prompt-input").value;e.exit(),n(o)}}],className:"noclose",animation:o});return i.show(),i}};